<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Vishal Katti">
<meta name="dcterms.date" content="2024-09-17">

<title>Exploratory Data Analysis (EDA) for Used Cars data.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="used_cars_EDA_files/libs/clipboard/clipboard.min.js"></script>
<script src="used_cars_EDA_files/libs/quarto-html/quarto.js"></script>
<script src="used_cars_EDA_files/libs/quarto-html/popper.min.js"></script>
<script src="used_cars_EDA_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="used_cars_EDA_files/libs/quarto-html/anchor.min.js"></script>
<link href="used_cars_EDA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="used_cars_EDA_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="used_cars_EDA_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="used_cars_EDA_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="used_cars_EDA_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data Sources</a>
  <ul class="collapse">
  <li><a href="#ingestion" id="toc-ingestion" class="nav-link" data-scroll-target="#ingestion">Ingestion</a></li>
  <li><a href="#duplicates" id="toc-duplicates" class="nav-link" data-scroll-target="#duplicates">Duplicates</a></li>
  <li><a href="#columns-and-data-types" id="toc-columns-and-data-types" class="nav-link" data-scroll-target="#columns-and-data-types">Columns and Data Types</a></li>
  </ul></li>
  <li><a href="#combined-data" id="toc-combined-data" class="nav-link" data-scroll-target="#combined-data">Combined Data</a></li>
  <li><a href="#column-wise-analysis-and-clean-up" id="toc-column-wise-analysis-and-clean-up" class="nav-link" data-scroll-target="#column-wise-analysis-and-clean-up">Column-wise Analysis and clean-up</a></li>
  <li><a href="#effects-on-price" id="toc-effects-on-price" class="nav-link" data-scroll-target="#effects-on-price">Effects on Price</a>
  <ul class="collapse">
  <li><a href="#make-1" id="toc-make-1" class="nav-link" data-scroll-target="#make-1">Make</a></li>
  <li><a href="#year-2" id="toc-year-2" class="nav-link" data-scroll-target="#year-2">Year</a></li>
  <li><a href="#transmission-1" id="toc-transmission-1" class="nav-link" data-scroll-target="#transmission-1">Transmission</a></li>
  <li><a href="#body-type-1" id="toc-body-type-1" class="nav-link" data-scroll-target="#body-type-1">Body Type</a></li>
  <li><a href="#fuel-type-1" id="toc-fuel-type-1" class="nav-link" data-scroll-target="#fuel-type-1">Fuel Type</a></li>
  <li><a href="#owner-number-1" id="toc-owner-number-1" class="nav-link" data-scroll-target="#owner-number-1">Owner Number</a></li>
  <li><a href="#odometer-reading-1" id="toc-odometer-reading-1" class="nav-link" data-scroll-target="#odometer-reading-1">Odometer Reading</a></li>
  <li><a href="#insurance-type-1" id="toc-insurance-type-1" class="nav-link" data-scroll-target="#insurance-type-1">Insurance Type</a></li>
  <li><a href="#duplicatekey-1" id="toc-duplicatekey-1" class="nav-link" data-scroll-target="#duplicatekey-1">duplicateKey</a></li>
  </ul></li>
  <li><a href="#export-to-rds" id="toc-export-to-rds" class="nav-link" data-scroll-target="#export-to-rds">Export to RDS</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exploratory Data Analysis (EDA) for Used Cars data.</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Vishal Katti </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 17, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>After the web-scraping activity is completed, we will now perform exploratory data analysis on the used cars details.</p>
</section>
<section id="data-sources" class="level1">
<h1>Data Sources</h1>
<p>We have 2 CSV files in the <strong>04_CarDetailsConsolidated</strong> which we will ingest.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-4217870750.png" class="img-fluid figure-img"></p>
<figcaption>CSV files to be ingested</figcaption>
</figure>
</div>
</div>
<section id="ingestion" class="level2">
<h2 class="anchored" data-anchor-id="ingestion">Ingestion</h2>
<p>First we load the required R libraries and create two utility function <code>f</code> and <code>format_indian</code></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)  <span class="co"># To manage dates and times</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)    <span class="co"># To ensure consistent naming and other utilities</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)       <span class="co"># To enable fancy printing</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="fu">print</span>(<span class="fu">glue</span>(x))} <span class="co"># quick printing</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>format_indian <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="co">#   #,##,##,</span><span class="al">###</span><span class="co"> format</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  x_str <span class="ot">&lt;-</span> <span class="fu">as.character</span>(x)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  rev_x_str <span class="ot">&lt;-</span> <span class="fu">rev</span>(<span class="fu">strsplit</span>(x_str, <span class="st">""</span>)[[<span class="dv">1</span>]])</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  first_three <span class="ot">&lt;-</span> <span class="fu">c</span>(rev_x_str[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>],<span class="st">","</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  all_others <span class="ot">&lt;-</span> rev_x_str[<span class="dv">4</span><span class="sc">:</span><span class="fu">length</span>(rev_x_str)]</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  grouped <span class="ot">&lt;-</span> <span class="fu">paste</span>(all_others, <span class="at">collapse =</span> <span class="st">""</span>) </span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  grouped <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"([0-9]{2})(?=[0-9])"</span>, <span class="st">"</span><span class="sc">\\</span><span class="st">1,"</span>, grouped, <span class="at">perl =</span> <span class="cn">TRUE</span>) </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  first_three <span class="ot">&lt;-</span> <span class="fu">paste</span>(first_three, <span class="at">collapse =</span> <span class="st">""</span>)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  final <span class="ot">&lt;-</span> <span class="fu">paste0</span>(first_three,grouped, <span class="at">collapse =</span> <span class="st">""</span>)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  formatted <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">rev</span>(<span class="fu">strsplit</span>(final, <span class="st">""</span>)[[<span class="dv">1</span>]]), <span class="at">collapse =</span> <span class="st">""</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(formatted)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Since will be cleaning and combining 2 datasets, one from <em>cars24</em> and other from <em>carwale</em>, we will perform same action twice and handle some special cases in either datasets.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>cars24 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../04_CarDetailsConsolidated/cars24.csv"</span>, </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>,<span class="st">"NA"</span>,<span class="st">"MISSING"</span>,<span class="st">"Not Available"</span>, <span class="st">"N/A"</span>), <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>carwale <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"../04_CarDetailsConsolidated/carwale.csv"</span>, </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">na =</span> <span class="fu">c</span>(<span class="st">""</span>,<span class="st">"NA"</span>,<span class="st">"MISSING"</span>,<span class="st">"Not Available"</span>,<span class="st">"N/A"</span>), <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
“MISSING” values
</div>
</div>
<div class="callout-body-container callout-body">
<p>In our data extraction scripts from the <strong>03_CarDetails</strong> folder, you would’ve noticed that while extracting the car attributes, we set the default value to <strong>MISSING</strong> if the value is not available. Thus we know for a fact that <strong>MISSING</strong> indicates a missing value and therefore can be explicitly set to NA while reading the CSV files.</p>
<p>After a quick manual verification of CSV files, we also understood that some attributes were <em>Not Available</em> or <em>N/A</em> can can be considered as <code>NA</code>.</p>
<p>The <code>read_csv</code> function from <strong>readr</strong> package allows us to explicitly mention which values to be considered as <code>NA</code> while reading the data.</p>
</div>
</div>
</section>
<section id="duplicates" class="level2">
<h2 class="anchored" data-anchor-id="duplicates">Duplicates</h2>
<p>First thing we will do is eliminate duplicates. We know there are duplicates since we had to restart our web-scraping scripts couple of times due to various issues.<br>
We will use the <code>unique</code> function to remove duplicates.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>preDup <span class="ot">&lt;-</span> <span class="fu">nrow</span>(cars24)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>cars24 <span class="ot">&lt;-</span> <span class="fu">unique</span>(cars24)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="st">"Cars24</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="st">-------------------------------------</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="st">Before removing duplicates: {preDup}</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="st">After removing duplicates: {nrow(cars24)}</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="st">Total duplicates removed: {preDup - nrow(cars24)}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Cars24
-------------------------------------
Before removing duplicates: 6392
After removing duplicates: 5889
Total duplicates removed: 503</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>preDup <span class="ot">&lt;-</span> <span class="fu">nrow</span>(carwale)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>carwale <span class="ot">&lt;-</span> <span class="fu">unique</span>(carwale)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="st">"Carwale</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="st">-------------------------------------</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="st">Before removing duplicates: {preDup}</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="st">After removing duplicates: {nrow(carwale)}</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="st">Total duplicates removed: {preDup - nrow(carwale)}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Carwale
-------------------------------------
Before removing duplicates: 4764
After removing duplicates: 4355
Total duplicates removed: 409</code></pre>
</div>
</div>
</section>
<section id="columns-and-data-types" class="level2">
<h2 class="anchored" data-anchor-id="columns-and-data-types">Columns and Data Types</h2>
<p>We will now look at the columns and ensure that data types of the columns are correct.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cars24)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,889
Columns: 18
$ make              &lt;chr&gt; "Hyundai", "Renault", "Nissan", "Hyundai", "Maruti",…
$ model             &lt;chr&gt; "Creta", "Kwid", "Micra", "Eon", "Swift", "Creta", "…
$ variant           &lt;chr&gt; "SX PLUS AT 1.6 PETROL", "1.0 MARVEL IRON MAN EDITIO…
$ year              &lt;dbl&gt; 2017, 2018, 2017, 2017, 2012, 2019, 2023, 2017, 2017…
$ transmission      &lt;chr&gt; "Automatic", "Automatic", "Automatic", "Manual", "Ma…
$ bodyType          &lt;chr&gt; "SUV", "Hatchback", "Hatchback", "Hatchback", "Hatch…
$ fuelType          &lt;chr&gt; "Petrol", "Petrol", "Petrol", "Petrol", "Petrol", "D…
$ ownerNumber       &lt;dbl&gt; 1, 1, 2, 2, 1, 1, 1, 1, 2, 2, 1, 3, 1, 2, 1, 1, 2, 1…
$ odometerReading   &lt;dbl&gt; 98493, 19178, 35474, 33963, 64557, 43987, 3996, 4728…
$ cityRto           &lt;chr&gt; "KA03", "KA03", "KA03", "KA05", "KA41", "KA03", "KA0…
$ listingPrice      &lt;dbl&gt; 973000, 407000, 528000, 381000, 463000, 1152000, 631…
$ fitnessUpto       &lt;chr&gt; "29-Feb-2032", "01-Jun-2033", "06-Nov-2032", "15-Jun…
$ insuranceType     &lt;chr&gt; "Comprehensive", "Insurance Expired", "Comprehensive…
$ duplicateKey      &lt;lgl&gt; FALSE, FALSE, NA, NA, TRUE, FALSE, TRUE, NA, TRUE, F…
$ city              &lt;chr&gt; "Bangalore", "Bangalore", "Bangalore", "Bangalore", …
$ registrationYear  &lt;dbl&gt; 2017, 2018, 2017, 2017, 2012, 2019, 2023, 2017, 2017…
$ registrationMonth &lt;dbl&gt; 3, 6, 11, 6, 4, 7, 11, 11, 6, 10, 9, 2, 6, 10, 9, 11…
$ websiteUrl        &lt;chr&gt; "https://cars24.com/buy-used-Hyundai-Creta-2017-cars…</code></pre>
</div>
</div>
<p>In above, we can see that <code>fitnessUpto</code> column has character datatype instead of date. We also note that the utility of the <code>websiteUrl</code> column is complete and we can remove this column from the dataset.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>cars24 <span class="ot">&lt;-</span> cars24 <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>websiteUrl) <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fitnessUpto  =</span> <span class="fu">dmy</span>(fitnessUpto))</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(cars24)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,889
Columns: 17
$ make              &lt;chr&gt; "Hyundai", "Renault", "Nissan", "Hyundai", "Maruti",…
$ model             &lt;chr&gt; "Creta", "Kwid", "Micra", "Eon", "Swift", "Creta", "…
$ variant           &lt;chr&gt; "SX PLUS AT 1.6 PETROL", "1.0 MARVEL IRON MAN EDITIO…
$ year              &lt;dbl&gt; 2017, 2018, 2017, 2017, 2012, 2019, 2023, 2017, 2017…
$ transmission      &lt;chr&gt; "Automatic", "Automatic", "Automatic", "Manual", "Ma…
$ bodyType          &lt;chr&gt; "SUV", "Hatchback", "Hatchback", "Hatchback", "Hatch…
$ fuelType          &lt;chr&gt; "Petrol", "Petrol", "Petrol", "Petrol", "Petrol", "D…
$ ownerNumber       &lt;dbl&gt; 1, 1, 2, 2, 1, 1, 1, 1, 2, 2, 1, 3, 1, 2, 1, 1, 2, 1…
$ odometerReading   &lt;dbl&gt; 98493, 19178, 35474, 33963, 64557, 43987, 3996, 4728…
$ cityRto           &lt;chr&gt; "KA03", "KA03", "KA03", "KA05", "KA41", "KA03", "KA0…
$ listingPrice      &lt;dbl&gt; 973000, 407000, 528000, 381000, 463000, 1152000, 631…
$ fitnessUpto       &lt;date&gt; 2032-02-29, 2033-06-01, 2032-11-06, 2032-06-15, 202…
$ insuranceType     &lt;chr&gt; "Comprehensive", "Insurance Expired", "Comprehensive…
$ duplicateKey      &lt;lgl&gt; FALSE, FALSE, NA, NA, TRUE, FALSE, TRUE, NA, TRUE, F…
$ city              &lt;chr&gt; "Bangalore", "Bangalore", "Bangalore", "Bangalore", …
$ registrationYear  &lt;dbl&gt; 2017, 2018, 2017, 2017, 2012, 2019, 2023, 2017, 2017…
$ registrationMonth &lt;dbl&gt; 3, 6, 11, 6, 4, 7, 11, 11, 6, 10, 9, 2, 6, 10, 9, 11…</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(carwale)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4,355
Columns: 18
$ make              &lt;chr&gt; "Mercedes-Benz", "BMW", "Mercedes-Benz", "BMW", "BMW…
$ model             &lt;chr&gt; "E-Class [2017-2021]", "6 Series GT", "GLA [2017-202…
$ variant           &lt;chr&gt; "E 200 Exclusive [2019-2019]", "630i M Sport [2021-2…
$ year              &lt;dbl&gt; 2023, 2021, 2019, 2021, 2013, 2018, 2024, 2019, 2018…
$ transmission      &lt;chr&gt; "Automatic - 9 Gears, Paddle Shift, Sport Mode", "Au…
$ bodyType          &lt;chr&gt; "Sedan", "Sedan", "SUV", "SUV", "Sedan", "Sedan", "S…
$ fuelType          &lt;chr&gt; "Petrol", "Petrol", "Petrol", "Diesel", "Diesel", "P…
$ ownerNumber       &lt;chr&gt; "First", "First", "First", "First", "First", "Second…
$ odometerReading   &lt;dbl&gt; 1630, 29000, 25000, 37500, 82000, 100000, 4058, 3469…
$ cityRto           &lt;chr&gt; "DL14C0018", "GJ1233444", "MH0000000", "HR269200", N…
$ listingPrice      &lt;dbl&gt; 7350000, 6500000, 2750000, 9800000, 555000, 2800000,…
$ fitnessUpto       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ insuranceType     &lt;chr&gt; NA, "Comprehensive", "Expired", "Expired", NA, "Comp…
$ duplicateKey      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ city              &lt;chr&gt; "Delhi", "Delhi", "Delhi", "Delhi", "Delhi", "Delhi"…
$ registrationYear  &lt;chr&gt; "01/01/0001 00:00:00", "01/01/0001 00:00:00", "01/01…
$ registrationMonth &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ websiteUrl        &lt;chr&gt; "https://www.carwale.com/used-cars/delhi/mercedes-be…</code></pre>
</div>
</div>
<p>In above, we can see that <code>fitnessUpto</code> column has character datatype instead of date. We also note that the utility of the <code>websiteUrl</code> column is complete and we can remove this column from the dataset. Additionally, the <code>ownerNumber</code>, <code>registrationYear</code> and <code>registrationMonth</code> columns do not match the data type in the <code>cars24</code> dataset. Let’s fix this.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>carwale <span class="ot">&lt;-</span> carwale <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>websiteUrl) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fitnessUpto  =</span> <span class="fu">dmy</span>(fitnessUpto),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">registrationYear  =</span> <span class="fu">as_date</span>(registrationYear, <span class="at">format =</span> <span class="st">"%d/%m/%Y %H:%M:%S"</span>),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">registrationMonth =</span> <span class="fu">month</span>(registrationYear),</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">registrationYear =</span> <span class="fu">year</span>(registrationYear),</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">registrationYear =</span> <span class="fu">if_else</span>(registrationYear <span class="sc">==</span> <span class="dv">1</span>, <span class="cn">NA_integer_</span>, registrationYear),</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">registrationMonth =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(registrationYear), <span class="cn">NA_integer_</span>, registrationMonth),</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">ownerNumber =</span> <span class="fu">case_match</span>(ownerNumber,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"First"</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"Second"</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>                                  <span class="st">"Third"</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                                  <span class="fu">c</span>(<span class="st">"Fourth"</span>, <span class="st">"4 or More"</span>) <span class="sc">~</span> <span class="dv">4</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">.default =</span> <span class="cn">NA_integer_</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(carwale)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4,355
Columns: 17
$ make              &lt;chr&gt; "Mercedes-Benz", "BMW", "Mercedes-Benz", "BMW", "BMW…
$ model             &lt;chr&gt; "E-Class [2017-2021]", "6 Series GT", "GLA [2017-202…
$ variant           &lt;chr&gt; "E 200 Exclusive [2019-2019]", "630i M Sport [2021-2…
$ year              &lt;dbl&gt; 2023, 2021, 2019, 2021, 2013, 2018, 2024, 2019, 2018…
$ transmission      &lt;chr&gt; "Automatic - 9 Gears, Paddle Shift, Sport Mode", "Au…
$ bodyType          &lt;chr&gt; "Sedan", "Sedan", "SUV", "SUV", "Sedan", "Sedan", "S…
$ fuelType          &lt;chr&gt; "Petrol", "Petrol", "Petrol", "Diesel", "Diesel", "P…
$ ownerNumber       &lt;dbl&gt; 1, 1, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ odometerReading   &lt;dbl&gt; 1630, 29000, 25000, 37500, 82000, 100000, 4058, 3469…
$ cityRto           &lt;chr&gt; "DL14C0018", "GJ1233444", "MH0000000", "HR269200", N…
$ listingPrice      &lt;dbl&gt; 7350000, 6500000, 2750000, 9800000, 555000, 2800000,…
$ fitnessUpto       &lt;date&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ insuranceType     &lt;chr&gt; NA, "Comprehensive", "Expired", "Expired", NA, "Comp…
$ duplicateKey      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ city              &lt;chr&gt; "Delhi", "Delhi", "Delhi", "Delhi", "Delhi", "Delhi"…
$ registrationYear  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2024, 2019, 2018, NA, NA, 20…
$ registrationMonth &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 12, 12, 6, NA, NA, 11, NA, N…</code></pre>
</div>
</div>
<p>Comparing the datatypes of the two datasets using waldo::compare function confirms that both datasets have same columns and datatypes and thus, can be combined together for futher clean-up.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>waldo<span class="sc">::</span><span class="fu">compare</span>(<span class="fu">sapply</span>(cars24, typeof), <span class="fu">sapply</span>(carwale,typeof))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>✔ No differences</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>waldo<span class="sc">::</span><span class="fu">compare</span>(<span class="fu">sapply</span>(cars24, class), <span class="fu">sapply</span>(carwale,class))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>✔ No differences</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>waldo<span class="sc">::</span><span class="fu">compare</span>(<span class="fu">colnames</span>(cars24), <span class="fu">colnames</span>(carwale))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>✔ No differences</code></pre>
</div>
</div>
</section>
</section>
<section id="combined-data" class="level1">
<h1>Combined Data</h1>
<p>Let us combine the 2 datasets.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(cars24, carwale) <span class="sc">|&gt;</span> <span class="fu">distinct</span>()</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">f</span>(<span class="st">"Number of Rows in Combined Dataset: {nrow(usedcars)}"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Number of Rows in Combined Dataset: 10234</code></pre>
</div>
</div>
</section>
<section id="column-wise-analysis-and-clean-up" class="level1">
<h1>Column-wise Analysis and clean-up</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">names</span>(usedcars), <span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>make
model
variant
year
transmission
bodyType
fuelType
ownerNumber
odometerReading
cityRto
listingPrice
fitnessUpto
insuranceType
duplicateKey
city
registrationYear
registrationMonth</code></pre>
</div>
</div>
<div class="tabset-margin-container"></div><div class="panel-tabset nav-pills">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">make</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">model</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">variant</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">year</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false" href="">transmission</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false" href="">bodyType</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-7-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-7" role="tab" aria-controls="tabset-1-7" aria-selected="false" href="">fuelType</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-8-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-8" role="tab" aria-controls="tabset-1-8" aria-selected="false" href="">ownerNumber</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-9-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-9" role="tab" aria-controls="tabset-1-9" aria-selected="false" href="">odometerReading</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-10-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-10" role="tab" aria-controls="tabset-1-10" aria-selected="false" href="">cityRto</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-11-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-11" role="tab" aria-controls="tabset-1-11" aria-selected="false" href="">listingPrice</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-12-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-12" role="tab" aria-controls="tabset-1-12" aria-selected="false" href="">fitnessUpto</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-13-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-13" role="tab" aria-controls="tabset-1-13" aria-selected="false" href="">insuranceType</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-14-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-14" role="tab" aria-controls="tabset-1-14" aria-selected="false" href="">duplicateKey</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-15-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-15" role="tab" aria-controls="tabset-1-15" aria-selected="false" href="">city</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-16-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-16" role="tab" aria-controls="tabset-1-16" aria-selected="false" href="">registrationYear</a></li></ul>
<div class="tab-content nav-pills">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="car-brand-make" class="level1">
<h1>Car Brand (Make)</h1>
<p>The make of the car refers to the name of the brand or the manufacturing company.</p>
<p>Car24 has 15 values for <code>make</code> column whereas Carwale has 35 values. They are as follows:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cars24<span class="sc">$</span>make)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Hyundai"    "Renault"    "Nissan"     "Maruti"     "Honda"     
 [6] "Tata"       "Toyota"     "KIA"        "Mahindra"   "Datsun"    
[11] "Skoda"      "Ford"       "Volkswagen" "MG"         "Jeep"      </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(carwale<span class="sc">$</span>make)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Mercedes-Benz" "BMW"           "Skoda"         "Renault"      
 [5] "Toyota"        "Kia"           "Mahindra"      "Maruti Suzuki"
 [9] "Volvo"         "Honda"         "Ford"          "Volkswagen"   
[13] "Land Rover"    "Hyundai"       "MG"            "Jeep"         
[17] "Tata"          "Audi"          "Nissan"        "MINI"         
[21] "Datsun"        "Jaguar"        "BYD"           "Porsche"      
[25] "Lexus"         "Citroen"       "Isuzu"         "Mitsubishi"   
[29] "Force Motors"  "Lamborghini"   "Chevrolet"     "Aston Martin" 
[33] "Fiat"          "Ssangyong"     "Bentley"      </code></pre>
</div>
</div>
<p><strong>Data Cleaning</strong></p>
<p>There are 2 different values for <em>Kia</em> and <em>Maruti</em> in Cars24 and Carwale datasets. Let us standardize them so they are considered as the same.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">make =</span> <span class="fu">case_match</span>(make,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Kia"</span> <span class="sc">~</span> <span class="st">"KIA"</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Maruti Suzuki"</span> <span class="sc">~</span> <span class="st">"Maruti"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">.default =</span> make))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/make-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Car Brands (Make)</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Even though Carwale has fewer records, it has more variation in terms of <code>make</code> of the used cars.</li>
<li>Maruti and Hyundai are the most abundant used cars.</li>
</ul>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<section id="model-1" class="level1">
<h1>Model</h1>
<p>Every car manufacturer produces more than 1 model of the car. Each model has different attributes catering to different audiences and thus priced accordingly.</p>
<p>Car24 has 118 unique <code>model</code>s column whereas Carwale has 552 unique <code>model</code>s.</p>
<p><strong>Data Cleaning</strong></p>
<p>The <code>model</code> values in Carwale includes the start and end year of the model. We can remove this to make it more consistent with Cars24 data. There are also a few corrections (Letter case related) which we will perform here.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">str_remove</span>(model,<span class="st">" ?</span><span class="sc">\\</span><span class="st">[.*</span><span class="sc">\\</span><span class="st">]$"</span>),</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">lmodel  =</span> <span class="fu">str_to_lower</span>(model))</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>model_bodytype_mapping <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"multi_bodyTypes.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(model_bodytype_mapping, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"make"</span>, <span class="st">"lmodel"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">model =</span> <span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(correctmodel), correctmodel, model),</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">bodyType =</span> <span class="fu">if_else</span>(<span class="sc">!</span><span class="fu">is.na</span>(correctbodyType), correctbodyType, bodyType),</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">bodyType =</span> <span class="fu">if_else</span>(<span class="fu">is.na</span>(bodyType), correctbodyType, bodyType)) <span class="sc">|&gt;</span> </span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>correctmodel, <span class="sc">-</span>correctbodyType, <span class="sc">-</span>lmodel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/model-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Car Models</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Maruti Suzuki Baleno and Hyundai Grand i10 are most abundant model.</li>
</ul>
</section>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<section id="variant-1" class="level1">
<h1>Variant</h1>
<p>Every model can have multiple <code>variant</code>s, based on fuel type, transmission, internal features or engine capacity.</p>
<p>Car24 has 908 unique <code>variant</code> values whereas Carwale has 1523.</p>
<p><strong>Data Cleaning</strong></p>
<p>The <code>variant</code> values sometimes contain additional info like fuel type, gearbox type (transmission), engine capacity. However, this information is already available in other columns. Hence we will try to standardize the values in the <code>variant</code> column.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>clean_variants <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"./variants_cleaned.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">make =</span> <span class="fu">if_else</span>(make <span class="sc">==</span> <span class="st">"redi-GO"</span>, <span class="st">"Redi GO"</span>, make)) <span class="sc">|&gt;</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(clean_variants, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"make"</span>,<span class="st">"model"</span>,<span class="st">"variant"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>variant) <span class="sc">|&gt;</span> </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"variant"</span> <span class="ot">=</span> <span class="st">"model_variant"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(make, model, variant, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/variant-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Car Variants</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Maruti, Hyundai and Honda cars are most abundant across both the platforms.</li>
</ul>
</section>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<section id="year-1" class="level1">
<h1>Year</h1>
<p>This is the year when this model was launched.</p>
<p>Car24 has listed car models from 2010 whereas Carwale has car models from 2000.</p>
<p><strong>Data Cleaning</strong></p>
<p>No data cleaning required for <code>year</code> column.</p>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/year-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Year of the Car Model/Variant</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Even though Carwale has fewer records, it has more variation in terms of <code>year</code> of the used cars.</li>
<li>Most available cars are 5-7 year old models.</li>
</ul>
</section>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<section id="transmission-aka-gear-type" class="level1">
<h1>Transmission (aka Gear Type)</h1>
<p>This basically indicates what type of gear system the car has. It could have Manual gears, Clutchless Manual gears, AMT, AT, CVT, DCT or others. Each of these types have different technology and each have different fuel efficiency, performance and pricing.</p>
<p>Car24 has 2 different types for <code>transmission</code> whereas Carwale has 119 values.</p>
<p><strong>Data Cleaning</strong></p>
<p>To reduce the number of variations, we will club few values under common name.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">transmission =</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(transmission, <span class="st">"Automatic|AMT"</span>) <span class="sc">~</span> <span class="st">"Automatic"</span>,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">.default =</span> <span class="st">"Manual"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/transmission-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Car Transmission</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Even though Carwale has fewer records, it has more variation in terms of <code>trasmission</code> of the used cars.</li>
<li>Additional information about the type of transmission in Automatic is available in Carwale dataset but not available in Cars24.</li>
</ul>
</section>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<section id="body-type" class="level1">
<h1>Body Type</h1>
<p>This indicate what type of car is it. Some body types are HatchBack, Sedan, SUV, MUV, Compact SUV etc.</p>
<p>Car24 has 3 values for <code>bodyType</code> column whereas Carwale has 12 values. They are as follows:</p>
<p>Cars24 Body types:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cars24<span class="sc">$</span>bodyType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "SUV"       "Hatchback" "Sedan"    </code></pre>
</div>
</div>
<p>Carwale Body types:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(carwale<span class="sc">$</span>bodyType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Sedan"         "SUV"           "MUV"           "Hatchback"    
 [5] "Compact SUV"   "Compact Sedan" NA              "Coupe"        
 [9] "Truck"         "Convertible"   "Minivan/Van"   "Minivan"      </code></pre>
</div>
</div>
<p><strong>Data Cleaning</strong></p>
<p>There are very few <code>NA</code> values which we will impute manually. After some careful examination, we noticed that in some cases, the same make-model-variant combination has mutiple bodytypes which is incorrect. So we created a CSV file with correct body types and used it as a reference to correct the body types. This was done in the Data Cleaning section of the <code>model</code> column. A few others were imputed manually below.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bodyType =</span> <span class="fu">case_match</span>(model,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Verito"</span> <span class="sc">~</span> <span class="st">"Compact Sedan"</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>                               <span class="fu">c</span>(<span class="st">"Accord"</span>,<span class="st">"City Hybrid eHEV"</span>) <span class="sc">~</span> <span class="st">"Sedan"</span>,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Fiesta"</span> <span class="sc">~</span> <span class="st">"Sedan"</span>,</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Countryman"</span> <span class="sc">~</span> <span class="st">"Compact SUV"</span>,</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>                               <span class="at">.default =</span> bodyType))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/bodyType-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Car Body Type</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Hatchbacks are most abundant body type acros both platforms.</li>
</ul>
</section>
</div>
<div id="tabset-1-7" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-7-tab">
<section id="fuel-type" class="level1">
<h1>Fuel Type</h1>
<p>This indicates which fuel is used by the car.</p>
<p>Car24 has 4 values for <code>fuelType</code> column whereas Carwale has 14 values. They are as follows:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cars24<span class="sc">$</span>fuelType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Petrol"   "Diesel"   "CNG"      "Electric"</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(carwale<span class="sc">$</span>fuelType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Petrol"                             "Diesel"                            
 [3] "Mild Hybrid(Electric + Petrol)"     "Electric"                          
 [5] "Hybrid (Electric + Petrol)"         NA                                  
 [7] "LPG"                                "CNG"                               
 [9] "CNG + CNG"                          "Petrol + CNG"                      
[11] "Mild Hybrid (Electric + Diesel)"    "Plug-in Hybrid (Electric + Petrol)"
[13] "Diesel + LPG"                       "Diesel + CNG"                      </code></pre>
</div>
</div>
<p><strong>Data Cleaning</strong></p>
<p>A few cars have <code>NA</code> values for fuelType column. We will use an external file to map the correct fuelType values. For the sake of simplicity, we will combine a few of these fuel types into groups.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>fueltype_mapping <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"fuelType.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="fu">rename</span>(<span class="st">"correctfuelType"</span> <span class="ot">=</span> <span class="st">"fuelType"</span>) <span class="sc">|&gt;</span> <span class="fu">distinct</span>()</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(fueltype_mapping, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"make"</span>, <span class="st">"model"</span>, <span class="st">"variant"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fuelType =</span> <span class="fu">coalesce</span>(fuelType, correctfuelType),</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">fuelType =</span> <span class="fu">case_when</span>(</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_detect</span>(fuelType, <span class="st">"Hybrid ?</span><span class="sc">\\</span><span class="st">(Electric"</span>) <span class="sc">~</span> <span class="st">"Electric Hybrid"</span>,</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>           <span class="fu">str_detect</span>(fuelType, <span class="st">" </span><span class="sc">\\</span><span class="st">+ "</span>) <span class="sc">~</span> <span class="st">"Flex Fuel"</span>,</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">.default =</span> fuelType</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>         )) <span class="sc">|&gt;</span> </span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>correctfuelType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/fuelType-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Car Fuel Type</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Even though Carwale has fewer records, it has more variation in terms of <code>fuelType</code> of the used cars.</li>
<li>Petrol and Diesel cars are still quite abundant across both platforms.</li>
</ul>
</section>
</div>
<div id="tabset-1-8" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-8-tab">
<section id="owner-number" class="level1">
<h1>Owner Number</h1>
<p>This is the number of previous owners for given car.</p>
<p><strong>Data Cleaning</strong></p>
<p>There are 60 missing values for <code>ownerNumber</code> column. We will impute them in such a way that overall proportion remains the same.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>non_missing_owners <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ownerNumber)) <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>props <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ownerNumber)) <span class="sc">|&gt;</span> <span class="fu">summarise</span>(<span class="at">p =</span> <span class="fu">n</span>()<span class="sc">/</span>non_missing_owners, <span class="at">.by =</span> ownerNumber) <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">split60 =</span> <span class="fu">round</span>(<span class="dv">60</span> <span class="sc">*</span> p))</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>na_indices <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">is.na</span>(usedcars<span class="sc">$</span>ownerNumber))</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>new_owner_numbers <span class="ot">&lt;-</span> <span class="fu">sample</span>(</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>  props<span class="sc">$</span>ownerNumber,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>(na_indices),</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">replace =</span> <span class="cn">TRUE</span>,</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">prob =</span> props<span class="sc">$</span>p <span class="sc">/</span> <span class="fu">sum</span>(props<span class="sc">$</span>p)</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>usedcars<span class="sc">$</span>ownerNumber[na_indices] <span class="ot">&lt;-</span> new_owner_numbers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>A quick look at the frequency of <code>ownerNumber</code> values</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/ownerNumber-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Number of Previous Owners</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>There were 60 missing values for <code>ownerNumber</code> column which we imputed to maintain the overall proportion.</li>
<li>Most used cars have only 1 previous owner.</li>
</ul>
</section>
</div>
<div id="tabset-1-9" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-9-tab">
<section id="odometer-reading" class="level1">
<h1>Odometer Reading</h1>
<p><code>odometerReading</code> is the distance the used car has travelled in kilometers.</p>
<p><strong>Data Cleaning</strong></p>
<p>No data cleaning needed for <code>odometerReading</code> column.</p>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/odometerReading-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Distance Travelled</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Most used cars have travelled less than 1 lakh kilometers.</li>
</ul>
</section>
</div>
<div id="tabset-1-10" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-10-tab">
<section id="city-rto" class="level1">
<h1>City RTO</h1>
<p>This is the RTO label of the car’s registration office.</p>
<p><strong>Data Cleaning</strong></p>
<p>We can extract only the first 4 characters from the <code>cityRto</code> column to make the values uniform across the full dataset</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">cityRto =</span> <span class="fu">str_sub</span>(cityRto,<span class="dv">1</span>,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/cityRto-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Registration (RTO)</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>The column <code>cityRto</code> in the cars24 dataset displays the RTO number where the car was registered. The same column in carwale dataset displays the actual registration number.</li>
<li>There are 125 used cars without a <code>cityRto</code> value.</li>
<li>Pune, Maharashtra-registered MH12 cars followed by Ahmedabad-Gujarat GJ01 are most abundant across both platforms.</li>
<li>Cars with other-state registrations are also available across all regions.</li>
</ul>
</section>
</div>
<div id="tabset-1-11" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-11-tab">
<section id="listing-price" class="level1">
<h1>Listing Price</h1>
<p><code>listingPrice</code> is the amount in Indian Rupees (₹) quoted for the used car.</p>
<p><strong>Data Cleaning</strong></p>
<p>No data cleaning needed for <code>listingPrice</code> column.</p>
<p>A quick look at the frequency of <code>listingPrice</code> values</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Car Price</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Most cars are priced around 5-7 Lakhs</li>
<li>Average is more than Median due to presence of ultra-high Luxury brands.</li>
</ul>
</section>
</div>
<div id="tabset-1-12" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-12-tab">
<section id="fitness-upto" class="level1">
<h1>Fitness Upto</h1>
<p>This is the end date of a car’s Fitness Certificate. Every car gets a fitness certificate which is valid for 15 years. After the fitness certificate expires, a new one has to be issued which is an expensive and time-consuming activity.</p>
<p>Car24 has 5889 cars with <code>fitnessUpto</code> dates whereas Carwale has 0 cars with valid <code>fitnessUpto</code> dates.</p>
<p><strong>Data Cleaning</strong></p>
<p>No data cleaning is needed. The datatype conversion was handled earlier in this document.</p>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/fitnessUpto-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Car Fitness Validity</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Carwale does not provide Fitness Certificate info upfront.</li>
<li>Most cars have adequate Fitness Validity.</li>
</ul>
</section>
</div>
<div id="tabset-1-13" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-13-tab">
<section id="insurance-type" class="level1">
<h1>Insurance Type</h1>
<p>The type of Insurance the car is covered under. Some cars which may have been listed for more than a year may have an expired Insurance while some may not insurance at all.</p>
<p>Car24 has 4 values for <code>insuranceType</code> column whereas Carwale has 6 values. They are as follows:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cars24<span class="sc">$</span>insuranceType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Comprehensive"     "Insurance Expired" "3rd Party"        
[4] "Zero Depreciation"</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(carwale<span class="sc">$</span>insuranceType)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA                  "Comprehensive"     "Expired"          
[4] "Zero Depreciation" "No Insurance"      "Third Party"      </code></pre>
</div>
</div>
<p><strong>Data Cleaning</strong></p>
<p>Let us standardize the values so we can club them. Here we make this assumption that cars with missing Insurance Type do not have Insurance.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">insuranceType =</span> <span class="fu">case_match</span>(insuranceType,</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Insurance Expired"</span> <span class="sc">~</span> <span class="st">"Expired"</span>,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"3rd Party"</span> <span class="sc">~</span> <span class="st">"Third Party"</span>,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>                           <span class="cn">NA_character_</span> <span class="sc">~</span> <span class="st">"No Insurance"</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>                           <span class="at">.default =</span> insuranceType))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/insuranceType-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Insurance Coverage</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Car24 does not have any cars that is not covered under insurance, unlike Carwale.</li>
<li>Most of the listed cars have insurance coverage.</li>
</ul>
</section>
</div>
<div id="tabset-1-14" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-14-tab">
<section id="duplicate-key" class="level1">
<h1>Duplicate Key</h1>
<p>This is an indicator if a duplicate key is available. Some newer models tend to have Electronic Keys which are quite expensive (approx ₹10K or more) and the availability of duplicate keys is a big plus!</p>
<p>Car24 has 3 values for <code>duplicateKey</code> column whereas Carwale has 1 values. They are as follows:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cars24<span class="sc">$</span>duplicateKey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE    NA  TRUE</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(carwale<span class="sc">$</span>duplicateKey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] NA</code></pre>
</div>
</div>
<p><strong>Data Cleaning</strong></p>
<p>No data cleaning required for <code>duplicateKey</code>.</p>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/duplicateKey-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Duplicate Key Availability</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Carwale does not provide <code>duplicateKey</code> availability info.</li>
<li>Only around 36% records have duplicate keys. Unfortunately, we have too many missing records for this indicator to be considered important.</li>
</ul>
</section>
</div>
<div id="tabset-1-15" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-15-tab">
<section id="city-1" class="level1">
<h1>City</h1>
<p>This is the city or location where the car has been listed and is available for sale.</p>
<p>Car24 caters to 25 cities/regions whereas Carwale caters to 18. They are as follows:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(cars24<span class="sc">$</span>city)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Bangalore"  "Mysore"     "New Delhi"  "Ghaziabad"  "Gurgaon"   
 [6] "Faridabad"  "Noida"      "Hyderabad"  "Chennai"    "Coimbatore"
[11] "Mumbai"     "Pune"       "Ahmedabad"  "Rajkot"     "Kochi"     
[16] "Trivandrum" "Surat"      "Kolkata"    "Nagpur"     "Lucknow"   
[21] "Chandigarh" "Patna"      "Jaipur"     "Vadodara"   "Indore"    </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(carwale<span class="sc">$</span>city)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Delhi"        "Bangalore"    "Chennai"      "Hyderabad"    "Kolkata"     
 [6] "Pune"         "Ahmedabad"    "Chandigarh"   "Mumbai"       "Howrah"      
[11] "Lucknow"      "Gurgaon"      "Ludhiana"     "Mohali"       "Ambala Cantt"
[16] "Kharar"       "Meerut"       "Faridabad"   </code></pre>
</div>
</div>
<p><strong>Data Cleaning</strong></p>
<p>We will combined <code>Delhi</code> and <code>New Delhi</code> under same group and rename <code>Bangalore</code> to <code>Bengaluru</code>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">city =</span> <span class="fu">case_match</span>(city,</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Delhi"</span> <span class="sc">~</span> <span class="st">"New Delhi"</span>,</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>                           <span class="st">"Bangalore"</span> <span class="sc">~</span> <span class="st">"Bengaluru"</span>,</span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>                           <span class="at">.default =</span> city))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><strong>Visualization</strong></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/city-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>City (Available in)</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Bengaluru has the maximum number of used cars available.</li>
</ul>
</section>
</div>
<div id="tabset-1-16" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-16-tab">
<section id="registration-year" class="level1">
<h1>Registration Year</h1>
<p>The year when the vehicle was first registered.</p>
<p><strong>Data Cleaning</strong></p>
<p>There is one car with <code>registrationYear</code> = 2025. This needs to be made 2024</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="ot">&lt;-</span> usedcars <span class="sc">|&gt;</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">registrationYear =</span> <span class="fu">if_else</span>(registrationYear<span class="sc">==</span><span class="dv">2025</span>, <span class="dv">2024</span>, registrationYear))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>A quick look at the frequency of <code>registrationYear</code> values</p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/registrationYear-1.png" class="img-fluid figure-img" width="4200"></p>
<figcaption>Year of Registration of the Car</figcaption>
</figure>
</div>
</div>
</div>
<p><strong>Observations</strong></p>
<ul>
<li>Most used cars were registered 5-7 years ago.</li>
<li>Carwale does not provide info about Registration year upfront.</li>
</ul>
</section>
</div>
</div>
</div>
</section>
<section id="effects-on-price" class="level1">
<h1>Effects on Price</h1>
<section id="make-1" class="level2">
<h2 class="anchored" data-anchor-id="make-1">Make</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Ordered By Min Price</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Median Price</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Mean Price</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href="">Max Price</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/make-minPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/make-medianPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/make-meanPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/make-maxPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="year-2" class="level2">
<h2 class="anchored" data-anchor-id="year-2">Year</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/year-listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="transmission-1" class="level2">
<h2 class="anchored" data-anchor-id="transmission-1">Transmission</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/transmission-listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="body-type-1" class="level2">
<h2 class="anchored" data-anchor-id="body-type-1">Body Type</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/bodyType-listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fuel-type-1" class="level2">
<h2 class="anchored" data-anchor-id="fuel-type-1">Fuel Type</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/fuelType-listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="owner-number-1" class="level2">
<h2 class="anchored" data-anchor-id="owner-number-1">Owner Number</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/ownerNumber-listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="odometer-reading-1" class="level2">
<h2 class="anchored" data-anchor-id="odometer-reading-1">Odometer Reading</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/odometerReading-listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="insurance-type-1" class="level2">
<h2 class="anchored" data-anchor-id="insurance-type-1">Insurance Type</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/insuranceType-listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="duplicatekey-1" class="level2">
<h2 class="anchored" data-anchor-id="duplicatekey-1">duplicateKey</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="used_cars_EDA_files/figure-html/duplicateKey-listingPrice-1.png" class="img-fluid figure-img" width="4200"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="export-to-rds" class="level1">
<h1>Export to RDS</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>usedcars <span class="sc">|&gt;</span> <span class="fu">distinct</span>() <span class="sc">|&gt;</span> <span class="fu">saveRDS</span>(<span class="st">"usedcars.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>